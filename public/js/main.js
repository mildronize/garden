var c=Object.defineProperty;var l=(r,t,n)=>t in r?c(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var a=(r,t,n)=>l(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();class d{constructor(t,n){a(this,"appContainerId");a(this,"pageCache");a(this,"hostname");this.appContainerId=t,this.pageCache={},this.hostname=n||window.location.hostname,this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.init()}init(){document.addEventListener("click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.loadContent(window.location.pathname)}handleLinkClick(t){const n=t.target;if(n&&n.matches("[data-link]")){t.preventDefault();const i=n.href,e=new URL(i);(e.origin===window.location.origin||e.hostname===this.hostname)&&this.navigateTo(e.pathname)}}handlePopState(){this.loadContent(window.location.pathname)}navigateTo(t){history.pushState(null,"",t),this.loadContent(t)}async loadContent(t){const n=document.getElementById(this.appContainerId);if(!n){console.error(`App container with ID "${this.appContainerId}" not found.`);return}if(this.pageCache[t]){n.innerHTML=this.pageCache[t];return}try{const i=await fetch(t==="/"?"/index.html":t);if(!i.ok)throw new Error(`Failed to load content for ${t}`);const e=await i.text();this.pageCache[t]=e,n.innerHTML=e}catch(i){console.error("Error loading content:",i),n.innerHTML="<h1>404 - Page Not Found</h1>"}}}async function h(){console.log("Starting the main function"),new d("root-app")}h();
